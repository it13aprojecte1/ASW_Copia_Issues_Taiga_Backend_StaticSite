<div class="container issue-form-container">
  <div class="close-btn-container">
    <%= link_to "×", issues_path, class: "close-btn", title: "Back to Issues" %>
  </div>

  <h2 class="text-center">New Issue</h2>

  <%= form_with(model: @issue, local: true, class: "issue-form") do |form| %>

    <div class="form-layout">
      <div class="left-column">
        <div class="mb-3">
          <%= form.text_field :subject, class: "form-control large-input", placeholder: "Subject" %>
        </div>

        <div class="mb-3">
          <a href="#" class="add-tag disabled">+ Add tag</a>
        </div>

        <div class="mb-3">
          <%= form.text_area :content, class: "form-control large-textarea", placeholder: "Please add descriptive text to help others better understand this issue" %>
        </div>
      </div>

      <div class="right-column">
        <!-- Tipo de Issue -->
        <div class="custom-select-box">
          <div class="select-container">
            <span class="select-label">Type</span>
            <%= form.select :issue_type_id,
                IssueType.all.collect { |t| [t.name, t.id] },
                {},
                { class: "form-select custom-select" } %>
          </div>
        </div>

        <!-- Severidad -->
        <div class="custom-select-box">
          <div class="select-container">
            <span class="select-label">Severity</span>
            <%= form.select :issue_severity_id,
                IssueSeverity.all.collect { |s| [s.name, s.id] },
                {},
                { class: "form-select custom-select" } %>
          </div>
        </div>

        <!-- Prioridad -->
        <div class="custom-select-box">
          <div class="select-container">
            <span class="select-label">Priority</span>
            <%= form.select :issue_priority_id,
                IssuePriority.all.collect { |p| [p.name, p.id] },
                {},
                { class: "form-select custom-select" } %>
          </div>
        </div>

        <!-- Estado -->
        <div class="custom-select-box">
          <div class="select-container">
            <span class="select-label">Status</span>
            <%= form.select :issue_status_id,
                IssueStatus.all.collect { |s| [s.name, s.id] },
                {},
                { class: "form-select custom-select" } %>
          </div>
        </div>

        <!-- Fecha límite (Date Picker) -->
        <div class="mb-3">
          <%= form.date_field :deadline, class: "form-control large-input", placeholder: "Select deadline", id: "deadline" %>
        </div>
      </div>
    </div>

    <div class="text-center mt-4">
      <%= form.submit "CREATE", class: "btn btn-create" %>
    </div>

  <% end %>
</div>
