<div class="container issue-form-container" style="max-width: 1200px; margin: 20px auto; background-color: #f7f9fa; padding: 30px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
  <%= form_with(model: @issue, local: true, class: "issue-form") do |form| %>
    <div class="form-layout" style="display: flex; flex-wrap: wrap; gap: 30px;">
      <div class="left-column" style="flex: 2; min-width: 300px;">
        <div class="mb-3">
          <%= form.text_field :subject, class: "form-control large-input", placeholder: "Subject", style: "width: 100%; padding: 14px; border: 1px solid #e0e4e8; border-radius: 8px; font-size: 16px; margin-bottom: 18px; box-shadow: inset 0 1px 3px rgba(0,0,0,0.03); transition: border-color 0.2s ease-in-out;" %>
        </div>
        <div class="mb-3">
          <a href="#" class="add-tag disabled" style="display: inline-block; padding: 8px 16px; background-color: #f0f3f5; text-decoration: none; color: #666; border: 1px dashed #ccc; border-radius: 6px; margin-bottom: 18px; font-size: 14px; transition: background-color 0.2s ease;">+ Add tag</a>
        </div>
        <div class="mb-3">
          <%= form.text_area :content, class: "form-control large-textarea", placeholder: "Please add descriptive text to help others better understand this issue", style: "width: 100%; min-height: 250px; padding: 14px; border: 1px solid #e0e4e8; border-radius: 8px; font-size: 15px; line-height: 1.6; resize: vertical; box-shadow: inset 0 1px 3px rgba(0,0,0,0.03); transition: border-color 0.2s ease-in-out;" %>
        </div>
      </div>
      <div class="right-column" style="flex: 1; min-width: 300px;">
        <!-- Tipo de Issue -->
        <div class="custom-select-box" style="margin-bottom: 20px; background-color: white; padding: 18px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.03); border: 1px solid #f0f2f5;">
          <div class="select-container">
            <span class="select-label" style="display: block; font-size: 14px; font-weight: 500; color: #555; margin-bottom: 10px;">Type</span>
            <%= form.select :issue_type_id,
                IssueType.all.collect { |t| [t.name, t.id] },
                {},
                { class: "form-select custom-select", style: "width: 100%; padding: 12px 40px 12px 12px; border: 1px solid #e0e4e8; border-radius: 6px; appearance: none; background-image: url('data:image/svg+xml;utf8,<svg fill=\"%23666\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>'); background-repeat: no-repeat; background-position: right 12px center; background-size: 20px; transition: border-color 0.2s ease-in-out; font-size: 14px; color: #333;" } %>
          </div>
        </div>
        <!-- Severidad -->
        <div class="custom-select-box" style="margin-bottom: 20px; background-color: white; padding: 18px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.03); border: 1px solid #f0f2f5;">
          <div class="select-container">
            <span class="select-label" style="display: block; font-size: 14px; font-weight: 500; color: #555; margin-bottom: 10px;">Severity</span>
            <%= form.select :severity_id,
                Severity.all.collect { |s| [s.name, s.id] },
                {},
                { class: "form-select custom-select", style: "width: 100%; padding: 12px 40px 12px 12px; border: 1px solid #e0e4e8; border-radius: 6px; appearance: none; background-image: url('data:image/svg+xml;utf8,<svg fill=\"%23666\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>'); background-repeat: no-repeat; background-position: right 12px center; background-size: 20px; transition: border-color 0.2s ease-in-out; font-size: 14px; color: #333;" } %>
          </div>
        </div>
        <!-- Prioridad -->
        <div class="custom-select-box" style="margin-bottom: 20px; background-color: white; padding: 18px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.03); border: 1px solid #f0f2f5;">
          <div class="select-container">
            <span class="select-label" style="display: block; font-size: 14px; font-weight: 500; color: #555; margin-bottom: 10px;">Priority</span>
            <%= form.select :priority_id,
                Priority.all.collect { |p| [p.name, p.id] },
                {},
                { class: "form-select custom-select", style: "width: 100%; padding: 12px 40px 12px 12px; border: 1px solid #e0e4e8; border-radius: 6px; appearance: none; background-image: url('data:image/svg+xml;utf8,<svg fill=\"%23666\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>'); background-repeat: no-repeat; background-position: right 12px center; background-size: 20px; transition: border-color 0.2s ease-in-out; font-size: 14px; color: #333;" } %>
          </div>
        </div>
        <!-- Estado -->
        <div class="custom-select-box" style="margin-bottom: 20px; background-color: white; padding: 18px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.03); border: 1px solid #f0f2f5;">
          <div class="select-container">
            <span class="select-label" style="display: block; font-size: 14px; font-weight: 500; color: #555; margin-bottom: 10px;">Status</span>
            <%= form.select :status_id,
                Status.all.collect { |s| [s.name, s.id] },
                {},
                { class: "form-select custom-select", style: "width: 100%; padding: 12px 40px 12px 12px; border: 1px solid #e0e4e8; border-radius: 6px; appearance: none; background-image: url('data:image/svg+xml;utf8,<svg fill=\"%23666\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>'); background-repeat: no-repeat; background-position: right 12px center; background-size: 20px; transition: border-color 0.2s ease-in-out; font-size: 14px; color: #333;" } %>
          </div>
        </div>
        <!-- Fecha límite (Date Picker) -->
        <div class="custom-select-box" style="margin-bottom: 20px; background-color: white; padding: 18px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.03); border: 1px solid #f0f2f5;">
          <div class="select-container">
            <span class="select-label" style="display: block; font-size: 14px; font-weight: 500; color: #555; margin-bottom: 10px;">Deadline</span>
            <%= form.date_field :deadline,
                class: "form-control large-input",
                placeholder: "Select deadline",
                id: "deadline",
                style: "width: 100%; padding: 12px; border: 1px solid #e0e4e8; border-radius: 6px; font-size: 14px; color: #333; transition: border-color 0.2s ease-in-out;" %>
          </div>
        </div>
      </div>
    </div>

    <!-- Watchers y Assigned to en diseño de tarjetas -->
    <div style="margin-top: 25px; padding: 25px; background-color: white; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.03); border: 1px solid #f0f2f5;">
      <h3 style="font-size: 16px; color: #333; margin-bottom: 25px; padding-bottom: 12px; border-bottom: 1px solid #f0f2f5;">People</h3>

      <div style="display: flex; flex-wrap: wrap; gap: 25px;">
        <!-- Campo Assign to -->
        <div style="flex: 1; min-width: 280px;">
          <span class="select-label" style="display: block; font-size: 14px; font-weight: 500; color: #555; margin-bottom: 10px;">Assign to</span>
          <div style="position: relative;">
            <%= form.collection_select :assignee_id,
                User.all, :id, :email,
                { include_blank: "Select user" },
                { class: "form-select custom-select", style: "width: 100%; padding: 12px 40px 12px 12px; border: 1px solid #e0e4e8; border-radius: 6px; appearance: none; background-image: url('data:image/svg+xml;utf8,<svg fill=\"%23666\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>'); background-repeat: no-repeat; background-position: right 12px center; background-size: 20px; transition: border-color 0.2s ease-in-out; font-size: 14px; color: #333;" } %>
          </div>
        </div>

        <!-- Campo Watchers -->
        <div style="flex: 1; min-width: 280px;">
          <span class="select-label" style="display: block; font-size: 14px; font-weight: 500; color: #555; margin-bottom: 10px;">Watchers</span>
          <div style="position: relative;">
            <%= form.collection_select :watcher_ids,
                User.all, :id, :email,
                { },
                { class: "form-select custom-select", multiple: true, style: "width: 100%; min-height: 120px; padding: 12px; border: 1px solid #e0e4e8; border-radius: 6px; font-size: 14px; color: #333; transition: border-color 0.2s ease-in-out;" } %>
            <div style="font-size: 12px; color: #888; margin-top: 5px; font-style: italic;">Hold Ctrl/Cmd to select multiple users</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Botones de acción -->
    <div style="display: flex; justify-content: center; gap: 20px; margin-top: 35px; align-items: center;">
      <%= form.submit "SAVE", class: "btn btn-create", style: "background-color: #83EEDE; color: #333; border: none; padding: 12px 30px; border-radius: 6px; font-weight: 600; cursor: pointer; font-size: 14px; letter-spacing: 0.5px; transition: background-color 0.2s ease; box-shadow: 0 2px 4px rgba(0,0,0,0.05); height: 44px; line-height: 20px;" %>
      <%= link_to "CANCEL", issues_path, class: "btn", style: "background-color: #f2f2f2; color: #555; text-decoration: none; padding: 12px 30px; border-radius: 6px; font-weight: 600; border: 1px solid #e0e4e8; font-size: 14px; letter-spacing: 0.5px; transition: background-color 0.2s ease; height: 44px; line-height: 20px; display: inline-flex; align-items: center; justify-content: center; box-sizing: border-box;" %>
    </div>
  <% end %>
</div>